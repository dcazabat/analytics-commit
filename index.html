<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Dashboard de AnÃ¡lisis de Commits Git</title>
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <link rel="stylesheet" href="styles.css">
</head>
<body>
    <div class="container">
        <header>
            <div style="display: flex; justify-content: space-between; align-items: center; flex-wrap: wrap; gap: 20px;">
                <div>
                    <h1>ğŸ“Š Dashboard de AnÃ¡lisis de Commits</h1>
                    <p class="subtitle">AnÃ¡lisis de Desarrollo del Proyecto</p>
                </div>
                <div style="display: flex; gap: 10px;">
                    <button id="themeToggle" class="btn-theme" title="Cambiar tema dÃ­a/noche">
                        ğŸŒ™
                    </button>
                    <button id="reloadData" class="btn-reload" title="Recargar datos desde output.json">
                        ğŸ”„
                    </button>
                </div>
            </div>
        </header>

        <!-- Filtros -->
        <section class="filters-section">
            <div class="filters">
                <div class="filter-group">
                    <label for="developerFilter">ğŸ‘¤ Desarrollador:</label>
                    <select id="developerFilter">
                        <option value="todos">Todos</option>
                    </select>
                </div>
                
                <div class="filter-group">
                    <label for="monthFilter">ğŸ“… Mes:</label>
                    <select id="monthFilter">
                        <option value="todos">Todos</option>
                    </select>
                </div>
                
                <div class="filter-group">
                    <label for="typeFilter">ğŸ·ï¸ Tipo:</label>
                    <select id="typeFilter">
                        <option value="todos">Todos</option>
                        <option value="fix">Fix</option>
                        <option value="feat">Feat</option>
                        <option value="otros">Otros</option>
                    </select>
                </div>
                
                <button id="resetFilters" class="btn-reset">ğŸ”„ Restablecer</button>
            </div>
        </section>

        <!-- Resumen General -->
        <section class="summary-cards">
            <div class="card">
                <div class="card-icon">ğŸ“</div>
                <div class="card-content">
                    <h3 id="totalCommits">0</h3>
                    <p>Total Commits</p>
                </div>
            </div>
            
            <div class="card">
                <div class="card-icon">ğŸ‘¥</div>
                <div class="card-content">
                    <h3 id="totalDevelopers">0</h3>
                    <p>Desarrolladores</p>
                </div>
            </div>
            
            <div class="card">
                <div class="card-icon">ğŸ“…</div>
                <div class="card-content">
                    <h3 id="activeDays">0</h3>
                    <p>DÃ­as de Desarrollo</p>
                </div>
            </div>
            
            <div class="card">
                <div class="card-icon">âš¡</div>
                <div class="card-content">
                    <h3 id="avgCommitsDay">0</h3>
                    <p>Promedio/DÃ­a</p>
                </div>
            </div>
        </section>

        <!-- GrÃ¡ficos Principales -->
        <section class="charts-grid">
            <!-- DistribuciÃ³n por Desarrollador -->
            <div class="chart-container">
                <h2>ğŸ‘¥ DistribuciÃ³n de Commits por Desarrollador</h2>
                <canvas id="developerChart"></canvas>
            </div>

            <!-- Tipos de Commits -->
            <div class="chart-container">
                <h2>ğŸ·ï¸ Tipos de Commits</h2>
                <canvas id="commitTypeChart"></canvas>
            </div>

            <!-- Actividad por Mes -->
            <div class="chart-container full-width">
                <h2>ğŸ“ˆ Actividad Mensual</h2>
                <canvas id="monthlyChart"></canvas>
            </div>

            <!-- Timeline de Actividad -->
            <div class="chart-container full-width">
                <h2>â±ï¸ Timeline de Actividad por Desarrollador</h2>
                <canvas id="timelineChart"></canvas>
            </div>
        </section>

        <!-- Tabla de DesempeÃ±o por Desarrollador -->
        <section class="performance-section">
            <h2>ğŸ¯ EvaluaciÃ³n de DesempeÃ±o Individual</h2>
            <div class="table-container">
                <table id="performanceTable">
                    <thead>
                        <tr>
                            <th>Desarrollador</th>
                            <th>Total Commits</th>
                            <th>% del Proyecto</th>
                            <th>Fixes</th>
                            <th>Features</th>
                            <th>Otros</th>
                            <th>LÃ­neas Netas</th>
                            <th>Primer Commit</th>
                            <th>Ãšltimo Commit</th>
                            <th>DÃ­as Activos</th>
                            <th>Promedio/DÃ­a</th>
                        </tr>
                    </thead>
                    <tbody id="performanceTableBody">
                        <!-- Se llenarÃ¡ dinÃ¡micamente -->
                    </tbody>
                </table>
            </div>
        </section>

        <!-- AnÃ¡lisis Detallado por Desarrollador -->
        <section class="developer-details" id="developerDetails">
            <!-- Se llenarÃ¡ dinÃ¡micamente al seleccionar un desarrollador -->
        </section>

        <!-- HistÃ³rico de Commits -->
        <section class="commits-history">
            <h2>ğŸ“œ Historial de Commits</h2>
            <div class="search-box">
                <input type="text" id="searchCommits" placeholder="ğŸ” Buscar en commits...">
            </div>
            <div id="commitsList" class="commits-list">
                <!-- Se llenarÃ¡ dinÃ¡micamente -->
            </div>
            <div class="pagination">
                <button id="prevPage" class="btn-pagination">â† Anterior</button>
                <span id="pageInfo">PÃ¡gina 1</span>
                <button id="nextPage" class="btn-pagination">Siguiente â†’</button>
            </div>
        </section>

        <footer>
            <p>Dashboard de AnÃ¡lisis de Commits Git - VersiÃ³n 2.0</p>
            <p>Sistema con auto-normalizaciÃ³n de emails duplicados</p>
        </footer>
    </div>

    <script src="main.js"></script>
</body>
</html>
